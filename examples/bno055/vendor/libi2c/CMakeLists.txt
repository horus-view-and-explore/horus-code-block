cmake_minimum_required(VERSION 3.7.2)

project(libi2c VERSION 0.2.1 LANGUAGES C)
add_library(${PROJECT_NAME} STATIC src/i2c.c)

set(LIBI2C_INCLUDE_DIR "${CMAKE_CURRENT_SOURCE_DIR}/include")
set(LIBI2C_LIBRARY ${PROJECT_NAME})
set(LIBI2C_INCLUDE_DIR ${LIBI2C_INCLUDE_DIR} PARENT_SCOPE)
set(LIBI2C_LIBRARY ${LIBI2C_LIBRARY} PARENT_SCOPE)

target_include_directories(${PROJECT_NAME} PRIVATE  ${LIBI2C_INCLUDE_DIR})
target_compile_definitions(${PROJECT_NAME} PUBLIC LIBI2C_VERSION=${PROJECT_VERSION})